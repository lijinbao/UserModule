@{
    ViewBag.Title = "";
    Layout = "~/Views/Shared/_Header.cshtml";
}
<div style="padding: 15px;">
    <form id="AddRuleForm" method="post" data-options="novalidate:true">
        <table class="tableContent">
            <tr>
                <td class="tableName">角色名称:</td>
                <td class="tableValue">
                    <input type="hidden" id="ProjectId" name="projectId" value='@ViewData["ProjectId"]' />
                    <input name="name" class="easyui-textbox" type="text" value="" data-options="required:true" />
                </td>
                <td class="tableName">角色父节点:</td>
                <td class="tableValue">
                    <input id="ParentId" name="parentId" class="easyui-combobox" type="text" value="" />
                </td>
            </tr>
            <tr>
                <td class="tableName">排序:</td>
                <td class="tableValue">
                    <input name="sort" class="easyui-numberbox" precision="2" data-options="required:true" type="text" value="" />
                </td>
                <td class="tableName">备注:</td>
                <td class="tableValue">
                    <input name="remark" style="height: 60px;" class="easyui-textbox" type="text" data-options="multiline:true" />
                </td>
            </tr>
        </table>
    </form>
    <div style="text-align: center;">
        <a class="easyui-linkbutton" id="SaveRule" data-options="iconCls:'icon-save'">保存</a>
    </div>
</div>
<div id="myWindow"></div>
<script type="text/javascript">
    seajs.use(["Rule/Index", "PublicJs/Frame/Easyui"], function (index, easyui) {
        $(function () {
            var projectId = $('#ProjectId').val();
            easyui.LoadCombobox("#ParentId", '/Rule/LoadParentId?projectId=' + projectId);
            $('#SaveRule').on('click', index.SaveRule);
        });
    });
</script>
